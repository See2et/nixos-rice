===== F3: Real Execution QA Replay =====
Date: 2026-02-17T10:29:59Z

===== Task 2 QA: Outputs evaluate for all targets =====
1. Desktop stateVersion:
warning: Git tree '/etc/nixos' is dirty
error (ignored): SQLite database '/root/.cache/nix/eval-cache-v6/7eed155d58bc57d78a76c37f5722864e9bf1a4754aca1c777f69f40fce14c218.sqlite' is busy
"25.11"
   EXIT: 0
2. WSL wsl.enable:
warning: Git tree '/etc/nixos' is dirty
error (ignored): SQLite database '/root/.cache/nix/eval-cache-v6/7eed155d58bc57d78a76c37f5722864e9bf1a4754aca1c777f69f40fce14c218.sqlite' is busy
true
   EXIT: 0
3. Darwin drvPath:
warning: Git tree '/etc/nixos' is dirty
error (ignored): SQLite database '/root/.cache/nix/eval-cache-v6/7eed155d58bc57d78a76c37f5722864e9bf1a4754aca1c777f69f40fce14c218.sqlite' is busy
"/nix/store/6xnwkp16r45cyl2fsbj6bf1xd748qfbp-home-manager-generation.drv"
   EXIT: 0

===== Task 3 QA: Desktop host module imports resolve =====
fileSystems./:
warning: Git tree '/etc/nixos' is dirty
error (ignored): SQLite database '/root/.cache/nix/eval-cache-v6/6bc80b627990f94c362a7c83fb9324cd7b75d58ec3c8e7db3fc70831686ae922.sqlite' is busy
"ext4"
   EXIT: 0

===== Task 4 QA: WSL isolation =====
WSL enable (should be true):
warning: Git tree '/etc/nixos' is dirty
error (ignored): SQLite database '/root/.cache/nix/eval-cache-v6/6bc80b627990f94c362a7c83fb9324cd7b75d58ec3c8e7db3fc70831686ae922.sqlite' is busy
true
   EXIT: 0
Desktop wsl.enable (should fail/missing):
warning: Git tree '/etc/nixos' is dirty
error (ignored): SQLite database '/root/.cache/nix/eval-cache-v6/6bc80b627990f94c362a7c83fb9324cd7b75d58ec3c8e7db3fc70831686ae922.sqlite' is busy
error: flake 'git+file:///etc/nixos' does not provide attribute 'packages.x86_64-linux.nixosConfigurations.desktop.config.wsl.enable', 'legacyPackages.x86_64-linux.nixosConfigurations.desktop.config.wsl.enable' or 'nixosConfigurations.desktop.config.wsl.enable'
   EXIT: 1

===== Task 6 QA: Shared module applies to both hosts =====
Desktop experimental-features:
warning: Git tree '/etc/nixos' is dirty
[ "nix-command" "flakes" "nix-command" "flakes" ]
   EXIT: 0
WSL experimental-features:
warning: Git tree '/etc/nixos' is dirty
[ "nix-command" "flakes" ]
   EXIT: 0

===== Task 7 QA: Desktop stack preserved =====
GDM enable:
warning: Git tree '/etc/nixos' is dirty
trace: Obsolete option `services.xserver.displayManager.gdm.enable' is used. It was renamed to `services.displayManager.gdm.enable'.
true
   EXIT: 0
Nvidia open:
warning: Git tree '/etc/nixos' is dirty
true
   EXIT: 0
Pipewire enable:
warning: Git tree '/etc/nixos' is dirty
true
   EXIT: 0

===== Task 8 QA: WSL-specific options =====
nix-ld enable:
warning: Git tree '/etc/nixos' is dirty
true
   EXIT: 0
usbip enable:
warning: Git tree '/etc/nixos' is dirty
true
   EXIT: 0

===== Task 9 QA: WSL path leakage prevented =====
Grep home/common for /mnt/c:
/etc/nixos/home/common/session.nix:2:# WSL-specific PATH (/mnt/c/...) belongs in home/wsl
/etc/nixos/home/common/default.nix:3:# CRITICAL: No /mnt/c paths, no WSL notifier, no platform-specific packages
Grep home/common for opencode-wsl-notify:
PASS: No notifier in common

===== Task 14 QA: No stale imports =====
Desktop host imports home.nix?
8:# - MUST NOT import home.nix (legacy monolith; use home/common + home/desktop)
configuration.nix imports hardware-configuration.nix?
15:    # hardware-configuration.nix is imported by hosts/desktop/default.nix

===== Evidence File Existence Check =====
  Task 1 evidence files: 3
  Task 2 evidence files: 2
  Task 3 evidence files: 2
  Task 4 evidence files: 2
  Task 5 evidence files: 4
  Task 6 evidence files: 2
  Task 7 evidence files: 2
  Task 8 evidence files: 2
  Task 9 evidence files: 2
  Task 10 evidence files: 2
  Task 11 evidence files: 2
  Task 12 evidence files: 3
  Task 13 evidence files: 2
  Task 14 evidence files: 2
  Task 15 evidence files: 2
  Task 16 evidence files: 3

Overall: QA Replay complete.
